<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ss31 xs10</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="ss31_xs10.css" />
  </head>
  <body>
    <h1>Danh sách nhân viên</h1>
    <form action="#" class="formAdd">
      <div>
        <input type="text" placeholder="Tên" id="userName" />
        <input type="text" placeholder="Chức vụ" id="role" />
      </div>
      <button id="btnAdd" class="btn-add">Thêm nhân viên</button>
    </form>
    <table class="table">
      <thead class="table-light">
        <th>STT</th>
        <th>Tên</th>
        <th>Chức vụ</th>
      </thead>
      <tbody id="listData">
        <tr>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <script>
      let inputName = document.querySelector("#userName");
      let inputRole = document.querySelector("#role");
      let btnAdd = document.querySelector("#btnAdd");
      let listData = document.querySelector("#listData");
      let arrUsers = [];

      const renderData = () => {
        listData.innerHTML = "";

        let htmls = arrUsers.map((item, index) => {
          return `
                <tr>
                    <td>${item.id}</td>
                    <td>${item.name}</td>
                    <td>${item.role}</td>
                </tr>
            `;
        });
        let convertArr = htmls.join("");
        listData.innerHTML = convertArr;
      };

      btnAdd.addEventListener("click", function (event) {
        event.preventDefault();

        let valueName = inputName.value.trim();
        let valueRole = inputRole.value.trim();

        if (valueName && valueRole) {
          let objUser = {
            id: arrUsers.length + 1,
            name: valueName,
            role: valueRole,
          };

          arrUsers.push(objUser);
          renderData();
        } else {
          alert("Dữ liệu rỗng");
        }
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
